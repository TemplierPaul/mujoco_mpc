<mujoco>
 <option integrator="implicitfast" timestep="0.01">
  <flag energy="enable" warmstart="enable" contact="disable"/>
 </option>      
 <compiler autolimits="true" angle="radian"/>

  <worldbody>
    <light diffuse=".75 .75 .75" pos="0 0 10" dir="0 0 -1" castshadow="false"/>
    <!-- geom type="plane" size="5 5 0.1" rgba=".7 .7 .6 1"/ -->
    
    <body name="base" pos="0 0 0.54" euler="0 0 0" gravcomp="1">
      <site name="base_imu" pos="0 0 0" size="0.01"/>
      <joint name="platform-x-slider" type="slide" axis="1 0 0"/>
      <joint name="platform-y-slider" type="slide" axis="0 1 0"/>
      <joint name="platform-z-slider" type="slide" axis="0 0 1" ref="0"/>
      <joint name="platform-x-hinge" type="hinge" axis="1 0 0"/>
      <joint name="platform-y-hinge" type="hinge" axis="0 1 0"/>
      <joint name="platform-z-hinge" type="hinge" axis="0 0 1"/>

      <geom name="base_geom" type="box" size="1 1 .01" rgba=".6 .6 .6 1"/>

      <body name="cab" pos="0.0 -0.01 0.216" gravcomp="1">
        <joint name="slew-joint" type="hinge" axis="0 0 1" pos="0 0 -.5" range="-1.3 1.3" armature="0.0" damping="0.0"/>
        <geom name="cab_geom" type="box" size=".1015 .1015 .0825" rgba=".8 .6 .4 1" mass="7.935"/>

        <site name="cab_imu" pos="0 0 0" size="0.01"/>
 
        <body name="boom" pos="1.125 0 0.205" gravcomp="1">
          <joint name="luff-joint" type="hinge" pos="-1.125 0 -0.205" axis="0 -1 0" range="0.001 1.2" armature="7110.0" damping="0.4454"/>
          <geom name="boom_geom" type="box" size="1.259 0.038 0.038" rgba=".3 .3 .3 1" mass="1.834"/>
          <geom name="front_pulley_geom" pos="1.3017 0 0" type="sphere" size="0.04" rgba="0 .5 .5 1" mass="0.380"/>
          <site name="boom_imu" pos="0 0 0" size="0.01"/>

          <site name="boom_tip_site" pos="1.259 0 -0.038" size="0.01"/>
          <body name="boom_tip" pos="1.259 0 -0.038" gravcomp="1">
          <geom name="boom_tip_geom" pos="0 0 0" type="sphere" size="0.01" rgba=".3 .3 .3 1" mass="0.00001"/>

            <joint name="boom-tip-x-rot-hinge" type="hinge" axis="1 0 0" stiffness="0"  range="-1.5 1.5" damping="0.3014"  armature="6.061e-11"/>
            <joint name="boom-tip-y-rot-hinge" type="hinge" axis="0 1 0" stiffness="0"  range="-1.5 1.5" damping="0.3014"  armature="6.061e-11"/>
            <joint name="hoist-slider" type="slide" axis="0 0 -1" limited="true" range="0.07 2.0" armature="144.1" damping="1.373e-15"/>

            <body name="payload_connector" pos="0 0 -.0535"> <!-- payload_tip body -->
              <geom name="payload_connector_geom" type="sphere" size="0.01" rgba=".3 0 0 1" mass="0.0000000001" contype="0" conaffinity="0"/> <!-- p_tip_geom-->

              <joint name="p-tip-eta-hinge" type="hinge" axis="1 0 0" damping="0.0001" limited="true" range="-1.5 1.5"/>
              <joint name="p-tip-sigma-hinge" type="hinge" axis="0 1 0" damping="0.0001" limited="true" range="-1.5 1.5"/> 

              <body name="payload"> <!-- smaller payload black -->
                <geom name="payload_geom" pos="0 0 -0.125" type="cylinder" size="0.025 0.125" rgba="1 1 1 1" mass=".178"/>

                <site name="payload_top" pos="0 0 0" size="0.01" rgba="1 0 0 1"/>
                <site name="payload_center" pos="0 0 -0.125" size="0.01" rgba="0 0 1 1"/>
                <site name="payload_bottom" pos="0 0 -0.250" size="0.01" rgba="0 1 0 1"/>
              </body>
            </body>
          </body>
        </body>
      </body>

      <site name="cab_bottom" pos="0.0 -0.01 0" size="0.01" rgba="1 0 0 1"/>

      <body name="target_marker" pos="0 0 0">
        <site size=".05" rgba="0 1 0 .25"/>
      </body>

    </body>

    <body name="goal_marker" pos="0 0 0" mocap="true">
      <site size=".05" rgba="0 0 1 .25"/>
    </body>

  </worldbody>

  <actuator>
      <velocity name="slew-velocity" joint="slew-joint" ctrlrange="-.7854 .7854" kv="3000"/>
      <velocity name="luff-velocity" joint="luff-joint" ctrlrange="-.2618 .2618" kv="14020"/>
      <velocity name="hoist-velocity" joint="hoist-slider" ctrlrange="-.8 .8" kv="586"/>

      <position name="platform-x-position" joint="platform-x-slider" ctrlrange="-1 1" kp="1000" kv="500"/>
      <position name="platform-y-position" joint="platform-y-slider" ctrlrange="-1 1" kp="1000" kv="500"/>
      <position name="platform-z-position" joint="platform-z-slider" ctrlrange="-1 1" kp="1000" kv="500"/>
      <position name="platform-x-rot" joint="platform-x-hinge" ctrlrange="-1 1" kp="5000" kv="500"/>
      <position name="platform-y-rot" joint="platform-y-hinge" ctrlrange="-1 1" kp="5000" kv="500"/>
      <position name="platform-z-rot" joint="platform-z-hinge" ctrlrange="-1 1" kp="5000" kv="500"/>
  </actuator>
  


</mujoco>
